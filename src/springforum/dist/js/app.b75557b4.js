(function(t){function e(e){for(var o,r,i=e[0],l=e[1],c=e[2],d=0,f=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},n={app:0},s=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0493":function(t,e,a){},"06eb":function(t,e,a){},"10d9":function(t,e,a){},1179:function(t,e,a){},"17b9":function(t,e,a){},"22de":function(t,e,a){"use strict";a("8319")},"23f4":function(t,e,a){"use strict";a("1179")},2429:function(t,e,a){"use strict";a("c8c0")},2848:function(t,e,a){},3029:function(t,e,a){},"33e8":function(t,e,a){"use strict";a("3029")},"381b":function(t,e,a){},4911:function(t,e,a){"use strict";a("10d9")},"4a72":function(t,e,a){},"4d0d":function(t,e,a){"use strict";a("0493")},"50e7":function(t,e,a){},"55d8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],r={name:"App",mounted:function(){"2"===localStorage.userType?(console.log(localStorage.userType),this.$store.dispatch("getUserByNum")):"true"===localStorage.isPhone?this.$store.dispatch("phoneUser"):this.$store.dispatch("getUsers")}},i=r,l=(a("034f"),a("2877")),c=Object(l["a"])(i,n,s,!1,null,null,null),u=c.exports,d=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"main-container"},[a("div",{staticClass:"content"},[a("keep-alive",[a("router-view")],1)],1)]),a("Footer")],1)},h=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Focontainer"},[a("ul",[a("router-link",{attrs:{to:"/main/trend"}},[a("li",[a("i",{staticClass:"fas fa-poll",on:{click:function(e){return t.changeTitle("Trend")}}})])]),a("router-link",{attrs:{to:"/main"}},[a("li",[a("i",{staticClass:"fas fa-home",on:{click:function(e){return t.changeTitle("Home")}}})])]),a("router-link",{attrs:{to:"/main/new"}},[a("li",[a("i",{staticClass:"fas fa-plus-circle",on:{click:function(e){return t.changeTitle("New Topic")}}})])]),a("router-link",{attrs:{to:"/main/edit"}},[a("li",[a("i",{staticClass:"fas fa-edit",on:{click:function(e){return t.changeTitle("Edit")}}})])]),a("router-link",{attrs:{to:"/main/discuss"}},[a("li",[a("i",{staticClass:"fas fa-comments",on:{click:function(e){return t.changeTitle("Disscus")}}})])])],1)])},m=[],g=a("5530"),v=a("2f62"),b={data:function(){return{title:"Trend"}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["changeTag"])),{},{changeTitle:function(t){console.log("works"),this.changeTag(t)}})},C=b,y=(a("73b5"),Object(l["a"])(C,p,m,!1,null,"d5a3ba44",null)),k=y.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NavContainer"},[a("SideBar"),a("nav",[a("div",{staticClass:"menu"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-no-header",modifiers:{"sidebar-no-header":!0}}],attrs:{variant:"none"}},[a("i",{staticClass:"fas fa-bars"})])],1),a("div",{staticClass:"brand"},[t._v(t._s(this.$route.name))]),a("div",{staticClass:"search",on:{click:function(e){t.active=!0}}},[a("i",{staticClass:"fas fa-search"})])]),t.active?a("div",{staticClass:"search-panel"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"input",attrs:{type:"text",placeholder:"Search heare"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("div",{on:{click:function(e){t.active=!1}}},[a("i",{staticClass:"fas fa-times-circle"})]),a("div",{staticClass:"result"},[a("b-button",{attrs:{variant:"outline-dark"},on:{click:function(e){return t.search()}}},[t._v("Search")])],1)]):t._e()],1)},w=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SideBarTool"},[a("b-sidebar",{staticClass:"BarParent",attrs:{id:"sidebar-no-header","bg-variant":"dark","aria-labelledby":"sidebar-no-header-title","no-header":"",shadow:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hide;return[a("b-list-group-item",{staticClass:" nav-info align-items-center"},[a("b-avatar",{staticClass:"mr-3",attrs:{variant:"success",src:t.getUserPayload.avatar,text:"BV"}}),a("div",{staticClass:"mr-auto"},[t._v(t._s(t.getUserPayload.username))]),a("div",{staticClass:"mr-auto"},[t._v("No. "+t._s(t.getUserPayload.userNum))])],1),a("div",{staticClass:"p-2"},[a("i",{staticClass:"fas fa-times",on:{click:o}}),a("nav",{staticClass:"sidebar-nav",on:{click:o}},[a("b-nav",{attrs:{vertical:""}},[a("b-nav-item",{attrs:{active:""},on:{click:function(e){return t.edit()}}},[t._v("Edit Profile")]),a("b-nav-item",{attrs:{href:"#link-1"},on:{click:o}},[t._v("Share")]),a("b-nav-item",{attrs:{href:"#link-2"},on:{click:o}},[t._v("About us")])],1)],1),a("b-button",{staticClass:"SignOut",attrs:{variant:"primary",block:""},on:{click:function(e){return t.logout()}}},[t._v("Sign Out")])],1)]}}])})],1)},S=[],$={name:"sidebar",methods:{backword:function(){this.$router.push({name:"signin"})},edit:function(){this.$router.push({name:"profile"})},logout:function(){localStorage.removeItem("token"),localStorage.clear(),this.$store.dispatch("clear"),this.backword()}},computed:Object(g["a"])({},Object(v["c"])(["getUserPayload"]))},O=$,j=(a("d7e4"),Object(l["a"])(O,x,S,!1,null,"ca28de70",null)),N=j.exports,E={data:function(){return{active:!1,text:""}},computed:Object(g["a"])({},Object(v["c"])(["getTitle"])),methods:{search:function(){this.active=!1,this.$store.dispatch("search",this.text),this.$router.push({path:"/main/result/".concat(this.text)})}},components:{SideBar:N}},P=E,U=(a("6436"),Object(l["a"])(P,_,w,!1,null,null,null)),T=U.exports,I={name:"main",components:{Navbar:T,Footer:k},mounted:function(){null===localStorage.getItem("token")&&null===localStorage.oauthID&&(console.log(localStorage.token),this.$router.push({name:"signin"}))}},A=I,q=(a("22de"),Object(l["a"])(A,f,h,!1,null,null,null)),z=q.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("keep-alive",[a("router-view")],1)],1)},B=[],D={},F=D,R=Object(l["a"])(F,M,B,!1,null,null,null),L=R.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DiscussContainer"},[a("div",{staticClass:"Bar-group"},[a("b-list-group",t._l(t.getUserPayload.rooms,(function(e,o){return a("b-list-group-item",{key:o,staticClass:"d-flex align-items-center",on:{click:function(a){return t.forwardChat(e.roomNum)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{variant:"success",icon:"people-fill"}}),a("span",{staticClass:"mr-auto"},[t._v("No. "+t._s(e.roomNum))]),a("b-badge",[t._v("You have joined")])],1)})),1)],1)])},J=[],V={name:"discuss",data:function(){return{}},methods:{forwardChat:function(t){this.$router.push({path:"/main/chat/".concat(t)})}},computed:Object(g["a"])({},Object(v["c"])(["getUserPayload"]))},Y=V,W=Object(l["a"])(Y,K,J,!1,null,null,null),H=W.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trend-container"},[a("PullTo",{attrs:{"bottom-load-method":t.refresh}},[a("template",{slot:"bottom-block"},[t._v("loading...")]),a("b-card-group",{attrs:{deck:""}},t._l(t.getAllArts,(function(e,o){return a("b-card",{key:o,staticClass:"text-center",attrs:{"bg-variant":"info","text-variant":"white",header:e.articleTitle}},[a("div",{staticClass:"card-content",on:{click:function(a){return t.paper(e.articleId,o,e.userId)}}},[a("div",{staticClass:"avatar"},[a("b-avatar",{attrs:{src:e.avatar,size:"3.5rem"}})],1),e.articleContent?a("b-card-text",[t._v(t._s(t.shortString(e.articleContent)))]):t._e()],1),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"badget"},t._l(e.tags,(function(e,o){return a("b-badge",{key:o,attrs:{variant:e.tagColor}},[t._v(t._s(e.tagName))])})),1),a("div",{staticClass:"visit"},[t._v(t._s(e.lookCount)+" "),a("i",{staticClass:"fas fa-eye"})])])])})),1)],2)],1)},Q=[],X=(a("99af"),a("897d")),Z=a.n(X),tt=a("bc3a"),et=a.n(tt),at={name:"trend",data:function(){return{count:0,articleList:[],temp:0}},components:{PullTo:Z.a},methods:Object(g["a"])(Object(g["a"])({refresh:function(t){this.temp=this.count,this.count=this.count+1,console.log(this.count);var e,a=this;console.log("refresh"),e="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token},et.a.get("http://localhost:8080/api/article/getArticles/"+this.count,{headers:e}).then((function(e){console.log(e.data),e.data.length>0?a.$store.dispatch("updateArticle",e.data):a.count=a.temp,t("done")})).catch((function(t){console.log(t)}))},shortString:function(t){return t.substring(0,50)}},Object(v["c"])(["getAllArts"])),{},{paper:function(t,e,a){var o;o="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token};var n=this;et.a.put("http://localhost:8080/api/article/updateCount/".concat(t),{headers:o}).then((function(o){console.log(o),localStorage.paperindex=e,n.$router.push({path:"/main/paper/".concat(t,"/").concat(a)})})).catch((function(t){console.log(t)}))}}),mounted:function(){this.$store.dispatch("getArticles",0),null!==localStorage.token&&null!==localStorage.oauthID||(console.log(localStorage.token),this.$router.push({name:"signin"})),console.log("this")},computed:Object(g["a"])({},Object(v["c"])(["getAllArts"]))},ot=at,nt=(a("fb7c"),Object(l["a"])(ot,G,Q,!1,null,null,null)),st=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EditContainer"},[a("b-badge",{attrs:{pill:"",variant:"info"}},[t._v("Your article is saved to below")])],1)},it=[],lt={name:"edit",data:function(){return{title:"Trend",msg:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["changeTag"])),{},{changeTitle:function(t){console.log("works"),this.changeTag(t)}})},ct=lt,ut=(a("99ef"),Object(l["a"])(ct,rt,it,!1,null,null,null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NewContainer"},[a("div",[a("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[a("label",{attrs:{for:"text-password"}},[t._v("Write your title here")]),a("b-form-input",{attrs:{type:"text",id:"text-password","aria-describedby":"password-help-block"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("b-form-text",{attrs:{id:"password-help-block"}},[t._v(" Feel free to add your post title here below. ")])],1),a("b-form-textarea",{attrs:{debounce:"100",id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("div",{staticClass:"image-group"},[a("div",[a("input",{ref:"file",staticClass:"file",attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(e){return t.onFileChanage()}}}),t._m(0),a("div",{staticClass:"uploadImg"},[t._v("img")])]),a("div",{staticClass:"tags"},[a("b-form-select",{staticClass:"mt-3",attrs:{options:t.options,size:"sm"},on:{change:function(e){return t.addTags()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("div",{staticClass:"tag"},t._l(t.optionlist,(function(e,o){return a("b-badge",{key:o,attrs:{variant:e.tagColor},on:{click:function(e){return t.deleteTag(o)}}},[t._v(t._s(e.tagName)+" ")])})),1)],1),a("div",[a("i",{staticClass:"fas fa-trash",on:{click:t.removeImage}})])])],1),a("b-card",{attrs:{header:t.title}},[a("blockquote",{staticClass:"blockquote mb-0"},[a("p",{staticClass:"text"},[t._v(t._s(t.text))]),a("footer",{staticClass:"blockquote-footer"},[t._v(" Your article will show here! "),a("cite",{attrs:{title:t.user}},[t._v(t._s(this.$store.state.user.username))])])])]),a("div",{staticClass:"handlerButton"},[a("b-button",{attrs:{squared:"",variant:"info"},on:{click:function(e){return t.save()}}},[t._v("SAVE")]),a("b-button",{attrs:{squared:"",variant:"primary"}},[t._v("SUBMIT")])],1),a("div",{staticClass:"bg-image"},[t.image?a("img",{attrs:{src:t.image}}):t._e()])],1)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"lable-file file1",attrs:{for:"file"}},[a("i",{staticClass:"fas fa-images"})])}],pt=(a("b0c0"),a("a434"),{name:"new",data:function(){return{text:"",title:"",user:"Kuke",file:null,image:"",selected:null,options:[{value:null,text:"Tag",disabled:!0},{value:{tagName:"Ruby",tagColor:"danger"},text:"Ruby"},{value:{tagName:"Javascript",tagColor:"warning"},text:"JS"},{value:{tagName:"Vue",tagColor:"success"},text:"Vue"},{value:{tagName:"Python",tagColor:"info"},text:"Python"}],optionlist:[]}},methods:{test:function(){var t=new FormData;t.append("file",this.file,this.file.name),console.log(t);var e={articleTitle:this.title,articleContent:this.text,tags:this.optionlist};console.log(e)},save:function(){console.log(this.optionlist),console.log(this.optionlist[0]);var t=[];t=0===this.optionlist.length?[{tagName:"undefined",tagColor:"secondary"}]:this.optionlist;var e={articleTitle:this.title,articleContent:this.text,tags:t},a=this;et.a.post("http://localhost:8080/api/article/new?num="+localStorage.userNum,e,{headers:{Authorization:localStorage.token}}).then((function(t){console.log(t),a.title="",a.text="",a.optionlist=[],a.onUpload(t.data)})).catch((function(t){console.log(t)}))},onFileChanage:function(t){var e=this.$refs.file.files;e.length&&(this.file=e[0],this.createImage(e[0]))},onUpload:function(t){var e=this;console.log("upload is working");var a=new FormData;console.log(this.file),a.append("file",this.file,this.file.name);var o=this;et()({method:"post",url:"http://localhost:8080/api/article/upload?id="+t,data:a,headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.token}}).then((function(){o.image="",console.log("Success!"),2!==localStorage.userType?e.$store.dispatch("getUsers"):e.$store.dispatch("getUserByNum")})).catch((function(){return console.log("Failure!")})),o.file=""},addTags:function(){this.optionlist.length<3&&this.optionlist.push(this.selected)},deleteTag:function(t){this.optionlist.splice(t,1)},createImage:function(t){var e=new FileReader,a=this;e.onload=function(t){a.image=t.target.result},e.readAsDataURL(t)},removeImage:function(t){this.image=""}}}),mt=pt,gt=(a("a4c4"),Object(l["a"])(mt,ft,ht,!1,null,null,null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blogContainer"},[a("div",{staticClass:"chat",on:{click:function(e){return t.forwardChat(t.paper.room)}}},[a("i",{staticClass:"fas fa-comment-dots"})]),a("b-card-group",{attrs:{columns:""}},[t.paper.articleTitle?a("b-card",{attrs:{title:t.paper.articleTitle,"img-src":t.paper.articleBgi,"img-alt":"Image","img-top":"","img-height":"300"}},[a("template",{slot:"header"},[a("div",{staticClass:"bloginfo"},[a("div",{staticClass:"userinfo"},[t._v("Edited by "+t._s(t.paper.username))]),a("div",{staticClass:"sub"},[a("b-badge",{ref:"sub",class:{hide:t.status},attrs:{pill:"",variant:"danger"},on:{click:function(e){return t.sub()}}},[t._v("mark")]),a("b-badge",{ref:"unsub",class:{hide:!t.status},attrs:{pill:"",variant:"qweqw"},on:{click:function(e){return t.sub()}}},[t._v("unmark")])],1)])]),a("b-card-text",[t._v(" "+t._s(t.paper.articleContent)+" ")])],2):t._e()],1),a("div",{staticClass:"commentBox"},[a("b-list-group",{staticStyle:{"max-width":"500px"}},[a("b-list-group-item",{staticClass:"d-flex align-items-center"},[a("b-avatar",{staticClass:"mr-3"}),a("span",{staticClass:"mr-auto"},[t._v("J. Circlehead")]),a("b-badge",[t._v("5")])],1),a("b-list-group-item",{staticClass:"d-flex align-items-center"},[a("b-avatar",{staticClass:"mr-3",attrs:{variant:"primary",text:"BV"}}),a("span",{staticClass:"mr-auto"},[t._v("BootstrapVue")]),a("b-badge",[t._v("12")])],1),a("b-list-group-item",{staticClass:"d-flex align-items-center"},[a("b-avatar",{staticClass:"mr-3",attrs:{variant:"info",src:"https://placekitten.com/300/300"}}),a("span",{staticClass:"mr-auto"},[t._v("Super Kitty")]),a("b-badge",[t._v("9")])],1),a("b-list-group-item",{staticClass:"d-flex align-items-center"},[a("b-avatar",{staticClass:"mr-3",attrs:{variant:"success",icon:"people-fill"}}),a("span",{staticClass:"mr-auto"},[t._v("ACME group")]),a("b-badge",[t._v("7")])],1),a("div",{staticClass:"commentHere"},[t._v(" feel free to leave your comments below "),a("b-form-textarea",{attrs:{id:"textarea-small",size:"sm",placeholder:"Small textarea"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("b-button",{staticClass:"button",attrs:{squared:"",variant:"primary"},on:{click:function(e){return t.submit()}}},[t._v("Submit")]),a("b-button",{staticClass:"button",attrs:{squared:"",variant:"outline-secondary"},on:{click:function(e){return t.textClear()}}},[t._v("Clear")])],1)],1)],1)],1)},Ct=[],yt={name:"paper",data:function(){return{status:!1,roomNum:0,test:"test",index:0,paper:null,text:""}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(v["b"])(["sendUserId"])),{},{textClear:function(){this.text=""}},Object(v["c"])(["getTrendIndex","getAllArt","getMarks"])),{},{submit:function(){console.log(this.paper);var t={userNum:this.paper.userNum,comments:this.text},e=this,a={};a="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum}:{Authorization:localStorage.token},et.a.post("http://localhost:8080/api/comment/add/"+this.paper.articleId,t,{headers:a}).then((function(t){console.log(t),e.text=""}))},sub:function(){var t=this;et.a.post("http://localhost:8080/api/article/mark/"+this.$route.params.aid+"/"+localStorage.uid,{headers:{Authorization:localStorage.token}}).then((function(e){"mark"===e.data?t.status=!0:t.status=!1}))},forwardChat:function(t){var e=this,a=this.$store.state.user.userNum;et.a.post("http://localhost:8080/api/article/room/"+t.roomId+"/"+a,{headers:{Authorization:localStorage.token}}).then((function(a){console.log(a),e.$router.push({path:"/main/chat/".concat(t.roomNum)})}))},getPaper:function(){var t;t="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token};var e=this;console.log(this.$route.params.aid),et.a.get("http://localhost:8080/api/article/getArticles/paper/"+this.$route.params.aid,{headers:t}).then((function(t){e.paper=t.data,console.log(t.data)}))},checkMarks:function(){var t;t="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token};var e=this;et.a.get("http://localhost:8080/api/article/checkMark/".concat(this.$route.params.aid,"/").concat(localStorage.uid),{headers:t}).then((function(t){"OK"===t.data?e.status=!0:e.status=!1,console.log(t)})).catch((function(t){console.log(t)}))}}),beforeRouteEnter:function(t,e,a){a((function(t){t.index=localStorage.paperindex,t.getPaper(),t.checkMarks(),a(t)}))}},kt=yt,_t=(a("4d0d"),Object(l["a"])(kt,bt,Ct,!1,null,"bbc3ec82",null)),wt=_t.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EditContainer"},[a("div",[a("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[a("label",{attrs:{for:"text-password"}},[t._v("Write your title here")]),a("b-form-input",{attrs:{type:"text",id:"text-password","aria-describedby":"password-help-block"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("b-form-text",{attrs:{id:"password-help-block"}},[t._v(" Feel free to add your post title here below. ")])],1),a("b-form-textarea",{attrs:{debounce:"100",id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._m(0)],1),a("b-card",{attrs:{header:t.title}},[a("blockquote",{staticClass:"blockquote mb-0"},[a("p",{staticClass:"text"},[t._v(t._s(t.text))]),a("footer",{staticClass:"blockquote-footer"},[t._v(" Your article will show here! "),a("cite",{attrs:{title:t.user}},[t._v(t._s(t.user))])])])]),a("div",{staticClass:"handlerButton"},[a("b-button",{attrs:{squared:"",variant:"info"}},[t._v("SAVE")]),a("b-button",{attrs:{squared:"",variant:"primary"}},[t._v("SUBMIT")])],1)],1)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"image-group"},[a("input",{staticClass:"file",attrs:{type:"file",id:"file",accept:"image/*"}}),a("label",{staticClass:"lable-file file1",attrs:{for:"file"}},[a("i",{staticClass:"fas fa-images"})]),a("div",{staticClass:"uploadBg"},[a("div",{staticClass:"BgImage"},[a("input",{staticClass:"file",attrs:{type:"file",id:"file",accept:"image/*"}}),a("label",{staticClass:"lable-file file2",attrs:{for:"file"}},[a("i",{staticClass:"fas fa-images"})])]),a("p",[t._v("change your BGI ")])])])}],$t={name:"savepage",data:function(){return{text:"Good to see you here",title:"",user:"Kuke"}}},Ot=$t,jt=(a("33e8"),Object(l["a"])(Ot,xt,St,!1,null,null,null)),Nt=jt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"HomeContainer"},[a("div",{staticClass:"btn-group"},[a("b-button",{attrs:{variant:"warning"},on:{click:function(e){t.active=!0}}},[t._v("My mark")]),a("b-button",{attrs:{variant:"info"},on:{click:function(e){t.active=!1}}},[t._v("My Own")])],1),t.active?a("Subscribe",{attrs:{marks:t.marks}}):a("MyArticle")],1)},Pt=[],Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MyOwn"},[a("b-card-group",{ref:"delete",attrs:{deck:""}},t._l(t.getUserPayload.articles,(function(e,o){return a("b-card",{key:o,staticClass:"text-center",attrs:{"bg-variant":"light"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.cut(e.articleId,o)}}},[t._v(" Delete ")]),a("b-button",{staticClass:"cancel",attrs:{variant:"primary"},on:{click:function(e){return t.cancel(o)}}},[t._v(" Cancel ")]),a("i",{staticClass:"fas fa-ellipsis-h",on:{click:function(e){return t.remove(o)}}}),a("div",{staticClass:"card-header"},[t._v(t._s(e.articleTitle))]),a("b-card-text",{on:{click:function(a){return t.mypaper(e.articleId,o)}}},[t._v(t._s(e.articleContent.substring(0,50)))])],1)})),1)],1)},Tt=[],It={name:"myarticle",data:function(){return{text:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["syncIndex"])),{},{mypaper:function(t,e){this.syncIndex(e),this.$router.push({path:"/main/mypaper/".concat(t)})},remove:function(t){console.log(this.$refs.delete.children[t]),this.$refs.delete.children[t].children[0].childNodes[2].style="display: block",this.$refs.delete.children[t].children[0].childNodes[3].style="display: block"},cancel:function(t){this.$refs.delete.children[t].children[0].childNodes[2].style="display: none",this.$refs.delete.children[t].children[0].childNodes[3].style="display: none"},cut:function(t,e){var a=this;console.log(t),confirm("are you sure ?")&&et.a.delete("http://localhost:8080/api/article/delete/"+t,{headers:{Authorization:localStorage.token}}).then((function(t){console.log(t),a.$refs.delete.children[e].remove()}))}}),computed:Object(g["a"])({},Object(v["c"])(["getUserPayload"]))},At=It,qt=(a("23f4"),Object(l["a"])(At,Ut,Tt,!1,null,null,null)),zt=qt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ChContainer"},[a("div",{staticClass:"card-group"},t._l(t.getMarks,(function(e,o){return a("div",{key:o,staticClass:"Card"},[a("b-card",{attrs:{"bg-variant":"light",title:e.articleTitle}},[a("hr"),a("div",{staticClass:"card-content"},[a("div",{staticClass:"user-info"},[a("b-img",{staticClass:"img",attrs:{rounded:"circle",left:"",src:e.avatar,alt:"Left image"}}),a("div",{staticClass:"username"},[t._v(t._s(e.username))])],1),a("div",{staticClass:"card-text",on:{click:function(a){t.goPaper(e.articleId,e.userId),t.changeTitle("Description")}}},[t._v(" "+t._s(e.articleContent.substring(0,70))+" ")])]),a("div",{staticClass:"subcontent"},[a("div",{staticClass:"badge-group"},t._l(e.tags,(function(e,o){return a("b-badge",{key:o,attrs:{variant:e.tagColor}},[t._v(" "+t._s(e.tagName))])})),1),a("div",{staticClass:"comments"},[a("i",{staticClass:"fas fa-comment-dots"}),a("div",{staticClass:"count"},[t._v(t._s(e.commentsCount)+" comments")])])])])],1)})),0)])},Bt=[],Dt={props:["marks"],data:function(){return{userNum:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["changeTag"])),{},{goPaper:function(t,e){this.$router.push({path:"/main/paper/".concat(t,"/").concat(e)})},changeTitle:function(t){console.log("works"),this.changeTag(t)}},Object(v["c"])(["getUserPayload"])),computed:Object(g["a"])({},Object(v["c"])(["getMarks"])),beforeRouteEnter:function(t,e,a){a((function(t){t.userNum=localStorage.userNum,console.log(t.userNum)}))}},Ft=Dt,Rt=(a("d45e"),Object(l["a"])(Ft,Mt,Bt,!1,null,null,null)),Lt=Rt.exports,Kt={name:"home",components:{MyArticle:zt,Subscribe:Lt},methods:Object(g["a"])({init:function(){console.log(this.$route)}},Object(v["c"])(["getUserPayload"])),beforeRouteEnter:function(t,e,a){var o;o="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token},console.log(o),a((function(t){t.$store.dispatch("getUsers"),t.userNum=localStorage.userNum,et.a.get("http://localhost:8080/api/article/marks/"+t.userNum,{headers:o}).then((function(e){console.log(e.data),t.$store.dispatch("loadMarks",e.data),t.marks=e.data}))}))},data:function(){return{active:!0,userNum:"",marks:[]}},watch:{$route:function(t,e){this.init()}},mounted:function(){this.init()}},Jt=Kt,Vt=(a("2429"),Object(l["a"])(Jt,Et,Pt,!1,null,null,null)),Yt=Vt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ChatContainer"},[a("div",{ref:"ele",staticClass:"contents"},t._l(t.receives,(function(e,o){return a("div",{key:o,staticClass:"msg-panel",class:e.userId===t.userId?"my-msg-panel":""},[a("div",{staticClass:"user"},[a("div",{staticClass:"userdetail",class:e.userId===t.userId?"mydetails":""},[a("b-avatar",{attrs:{src:e.userId===t.userId?t.avatar:"",variant:e.userId===t.userId?"success":"primary",text:e.sender.substring(0,1)}}),a("div",{staticClass:"username"},[a("p",[t._v(t._s(e.sender))])])],1)]),a("p",{staticClass:"text-msg"},[t._v(t._s(e.content))])])})),0),a("div",{staticClass:"btn-input"},[a("b-form-input",{attrs:{placeholder:"Enter name"},model:{value:t.contents,callback:function(e){t.contents=e},expression:"contents"}}),a("b-button",{staticClass:"btn1",attrs:{variant:"primary"},on:{click:function(e){return t.send()}}},[t._v("Submit")])],1)])},Ht=[],Gt=a("cc7d"),Qt=a.n(Gt),Xt=a("c6e1"),Zt=a.n(Xt),te={name:"chat",data:function(){return{stompClient:null,sender:"human",contents:"",path:"",receives:[],userId:"",roomNum:0,avatar:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["c"])(["getIndex","getUserPayload"])),{},{connect:function(){console.log(this.receives),console.log(this.contents);var t=new Qt.a("http://localhost:8080/webchat");this.stompClient=Zt.a.over(t),this.stompClient.connect({},this.onConnection)},onConnection:function(t){this.roomNum=this.$route.params.roomNum;var e=this.$route.params.roomNum;console.log(e),console.log("Connected: "+t),this.stompClient.subscribe("/topic/public/"+e,this.onMessageReceived)},onMessageReceived:function(t){console.log(this);var e=JSON.parse(t.body);this.receives.push(e),console.log(e.content+"  this is message")},send:function(){console.log(this.getIndex()),console.log(this.getUserPayload());var t={sender:this.sender,content:this.contents,roomNum:this.roomNum,userId:this.userId};console.log(t),this.contents="",this.stompClient.send("/app/chat/"+this.roomNum,JSON.stringify(t),{})},disconnect:function(){null!==this.stompClient&&(this.stompClient.disconnect(),console.log("disconnected"))}}),beforeRouteEnter:function(t,e,a){a((function(t){t.sender=t.getUserPayload().username,t.userId=t.getUserPayload().userNum,t.avatar=t.getUserPayload().avatar,t.connect()}))},beforeRouteLeave:function(t,e,a){console.log("log"),null===this.stompClient||this.disconnect(),a(!0)}},ee=te,ae=(a("b1e1"),Object(l["a"])(ee,Wt,Ht,!1,null,"72284f73",null)),oe=ae.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile"},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{attrs:{"img-src":"https://picsum.photos/300/300/?image=41","img-alt":"Image","img-top":""},scopedSlots:t._u([{key:"footer",fn:function(){return[a("b-button",{staticClass:"btn-red",attrs:{variant:"danger"},on:{click:function(e){return t.main()}}},[t._v("cancel")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.save()}}},[t._v("save")])]},proxy:!0}])},[a("template",{slot:"header"},[a("span",[t._v("Account:")]),a("span",[t._v(t._s(t.getUserPayload.userNum))])]),a("b-avatar",{staticClass:"profile-img",attrs:{variant:"info",src:t.getUserPayload.avatar}}),a("input",{ref:"bgf",staticClass:"file",attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(e){return t.handleFileUpload()}}}),a("label",{staticClass:"lable-file file2",attrs:{for:"file"}},[a("i",{staticClass:"fas fa-camera"})]),t.show?a("b-form",[a("div",{staticClass:"info-1"},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",placeholder:"Username",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("div",{staticClass:"info-show"},[t._v(t._s(t.getUserPayload.username))])],1),a("div",{staticClass:"info-1"},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"phone number",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("div",{staticClass:"info-show"},[t._v(t._s(t.getUserPayload.phoneNum))])],1)]):t._e()],2)],1)],1)},se=[],re={name:"profile",data:function(){return{show:!0,form:{email:"",name:"",phone:""},file:null}},methods:{main:function(){this.$router.push({name:"home"})},handleFileUpload:function(){console.log(this.$refs.bgf.files[0]),this.file=this.$refs.bgf.files[0]},onUpload:function(){var t=new FormData;t.append("file",this.file,this.file.name);var e=this;et()({method:"post",url:"http://localhost:8080/api/user/upload?num="+this.$store.state.user.userNum,data:t,headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.token}}).then((function(){return console.log("Success!")})).catch((function(){return console.log("Failure!")})),e.file=""},save:function(){var t={email:this.form.email,username:this.form.name,phoneNum:this.form.phone},e=this;et.a.put("http://localhost:8080/api/user/update/"+this.$store.state.user.userNum,t,{headers:{Authorization:localStorage.token}}).then((function(t){e.$store.dispatch("getUsers"),e.onUpload(),console.log(t)})).catch((function(t){console.log(t)}))}},computed:Object(g["a"])({},Object(v["c"])(["getUserPayload"]))},ie=re,le=(a("b947"),Object(l["a"])(ie,ne,se,!1,null,"2e0b7f03",null)),ce=le.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blogContainer"},[a("div",{staticClass:"chat",on:{click:function(e){return t.forwardChat()}}},[a("i",{staticClass:"fas fa-comment-dots"})]),a("b-card-group",{attrs:{columns:""}},[a("b-card",{attrs:{title:t.getUserPayload.articles[t.index].articleTitle,"img-src":t.getUserPayload.articles[t.index].articleBgi,"img-alt":"Image","img-top":"","img-height":"300"}},[a("template",{slot:"header"},[a("div",{staticClass:"bloginfo"},[a("div",{staticClass:"userinfo"},[t._v("Edited by "+t._s(t.getUserPayload.username))])])]),a("b-card-text",[t._v(" "+t._s(t.getUserPayload.articles[t.index].articleContent)+" ")])],2)],1),a("b-button",{attrs:{block:"",variant:"outline-secondary"}},[t._v("Block Level Button")])],1)},de=[],fe={name:"mypaper",data:function(){return{index:0,aid:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["c"])(["getIndex"])),{},{forwardChat:function(){var t=this.getUserPayload.articles[this.index].room.roomNum;this.sendUserId(this.getUserPayload.userNum),this.$router.push({path:"/main/chat/".concat(t)})}},Object(v["b"])(["sendUserId"])),computed:Object(g["a"])({},Object(v["c"])(["getUserPayload"])),beforeRouteEnter:function(t,e,a){a((function(t){t.aid=t.$route.params.aid,t.index=t.getIndex()}))},mounted:function(){console.log(this.index)}},he=fe,pe=(a("748b"),Object(l["a"])(he,ue,de,!1,null,"44b469aa",null)),me=pe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"resultContainer"},t._l(t.getSearch,(function(e,o){return a("b-card",{key:o,staticClass:"text-center",attrs:{"border-variant":"light",header:e.articleTitle}},[a("b-card-text",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit.")])],1)})),1)},ve=[],be={name:"result",data:function(){return{results:[]}},computed:Object(g["a"])({},Object(v["c"])(["getSearch"])),methods:{}},Ce=be,ye=(a("d434"),Object(l["a"])(Ce,ge,ve,!1,null,"97c10ef0",null)),ke=ye.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CheckEmail"},[a("div",{staticClass:"CheckEmailNav"},[a("div",[a("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"}},[a("template",{slot:"header"},[a("div",{on:{click:function(e){return t.backward()}}},[a("i",{staticClass:"fas fa-long-arrow-alt-left"})]),a("div",[a("i",{staticClass:"far fa-question-circle"})])]),a("template",{slot:"footer"},[t._v("asdad")]),a("i",{staticClass:"fas fa-envelope-open-text"}),a("h4",{staticClass:"card-title"},[a("strong",[t._v("Enter the security code")])]),a("b-card-text",[t._v("Enter the code that you have received in your mailbox")]),t.show?a("b-form",{staticClass:"form-email",on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Verification Code","label-for":"input-1",description:"We'll never share your email with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Verification Code",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1):t._e(),a("div",[a("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.forwardPassword()}}},[t._v("Next Step")]),a("div",{staticClass:"sub-link2"},[t._v(" Don't have received ? "),a("b-link",{attrs:{href:"#foo"}},[t._v("Resend")])],1)],1)],2)],1)])])},we=[],xe={name:"checkemail",data:function(){return{show:!0,form:{email:""}}},methods:{forwardPassword:function(){this.$router.push({path:"password"})},backward:function(){this.$router.push({path:"forget"})}}},Se=xe,$e=(a("6d21"),Object(l["a"])(Se,_e,we,!1,null,null,null)),Oe=$e.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reset"},[a("div",{staticClass:"resetnav"}),a("div",[a("b-card",{attrs:{"header-tag":"header",footer:"Card Footer","footer-tag":"footer"}},[a("template",{slot:"header"},[a("div",[a("i",{staticClass:"fas fa-long-arrow-alt-left",on:{click:function(e){return t.backward()}}})]),a("div",[a("i",{staticClass:"far fa-question-circle"})])]),a("h4",{staticClass:"card-title"},[a("strong",[t._v("Reset password")])]),a("b-card-text",[t._v("Enter your user account's verified email address and we will send you a password reset link..")]),t.show?a("b-form",{staticClass:"form-email",on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1",description:"We'll never share your email with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1):t._e(),a("div",[a("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.forwardEmail()}}},[t._v("Next Step")])],1)],2)],1)])},Ne=[],Ee={name:"forget",data:function(){return{show:!0,form:{email:""},counter:0}},methods:{forwardEmail:function(){this.$router.push({name:"checkemail"})},backward:function(){this.$router.push({name:"signin"})}}},Pe=Ee,Ue=(a("c260"),Object(l["a"])(Pe,je,Ne,!1,null,null,null)),Te=Ue.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"password"},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{attrs:{title:"Create new password","header-tag":"header"}},[a("template",{slot:"header"},[a("div",[a("i",{staticClass:"fas fa-long-arrow-alt-left",on:{click:function(e){return t.backward()}}})]),a("div",[a("i",{staticClass:"far fa-question-circle"})])]),a("b-card-text",[t._v(" Some quick example text to build on the "),a("em",[t._v("card title")]),t._v(" and make up the bulk of the card's content. ")]),t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{status:t.status,id:"input-group-1","label-align":"left",label:"New Password:","label-for":"input-1",description:"We'll never share your email with anyone else."}},[a("template",{slot:"default"},[a("div",{ref:"con2"},[a("i",{staticClass:"fas fa-eye-slash",on:{click:function(e){return t.closeEye()}}}),a("i",{staticClass:"fas fa-eye",on:{click:function(e){return t.closeEye()}}})])]),a("b-form-input",{ref:"con",attrs:{id:"input-1",type:"password",placeholder:"Password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],2),a("b-form-group",{attrs:{id:"input-group-2",label:"Confirm password:","label-align":"left","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:"Confirm Passowrd",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1):t._e(),a("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.forwardSuccess()}}},[t._v("Reset password")])],2)],1)],1)},Ae=[],qe={name:"password",data:function(){return{show:!0,status:!0,entity1:"password",entity2:"name",eye:!1,form:{password:""}}},methods:{closeEye:function(){this.$refs.con2.children[0].style="display : none",this.$refs.con2.children[1].style="display : block","password"===this.$refs.con.$refs.input.form[0].type?this.$refs.con.$refs.input.form[0].type="name":(this.$refs.con.$refs.input.form[0].type="password",this.$refs.con2.children[1].style="display : none",this.$refs.con2.children[0].style="display : block")},forwardSuccess:function(){this.$router.push({path:"success"})},backward:function(){this.$router.push({path:"checkemail"})}}},ze=qe,Me=(a("8e4f"),Object(l["a"])(ze,Ie,Ae,!1,null,null,null)),Be=Me.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"LoginPage"},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{attrs:{"header-tag":"header"}},[a("template",{slot:"header"},[a("h2",{staticClass:"SignInTitle"},[a("strong",[t._v("Sign In")])])]),t.show?a("b-form",[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1",description:"We'll never share your email with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:"Enter Password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1):t._e(),a("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return t.login()}}},[t._v("Sign In")]),a("div",{staticClass:"fps"},[a("span",[t._v("forget password ?")]),t._v(" "),a("span",[a("b-link",{on:{click:function(e){return t.forwardForget()}}},[t._v("Click Here")])],1)]),a("div",{staticClass:"third-party"},[a("i",{staticClass:"fab fa-weixin"}),a("a",{attrs:{href:"http://localhost:8080/oauth2/authorization/github"},on:{click:function(e){return t.oauthLogin()}}},[a("i",{staticClass:"fab fa-github"})]),a("a",{attrs:{href:"http://localhost:8080/oauth2/authorization/google"},on:{click:function(e){return t.oauthLogin()}}},[a("i",{staticClass:"fab fa-google"})]),a("i",{staticClass:"fas fa-mobile-alt",on:{click:function(e){return t.loginPhone()}}})]),a("div",{staticClass:"fps-2"},[a("span",[t._v("don't have an account?")]),t._v(" "),a("span",[a("b-link",{on:{click:function(e){return t.forwardSignUp()}}},[t._v("Sign up here")])],1)])],2)],1)],1)},Fe=[],Re={name:"signin",data:function(){return{show:!0,form:{email:"",password:""}}},methods:Object(g["a"])({forwardForget:function(){this.$router.push({name:"forget"})},forwardSignUp:function(){this.$router.push({name:"signup"})},oauthLogin:function(){var t=Math.floor(9e7*Math.random())+1e7;localStorage.oauthKey=t,et.a.get("http://localhost:8080/api/oauth2/info/"+t,{}).then((function(t){console.log(t)}))},login:function(){var t=this,e={email:this.form.email,password:this.form.password};console.log(e),et()({method:"post",url:"http://localhost:8080/api/entry/login",data:e}).then((function(e){console.log(e),200===e.status&&(console.log(e.status),localStorage.token=e.headers.authorization,console.log(e),t.loadData(t.form.email),t.form.email="",t.form.password="")})).catch((function(t){console.log(t)})),console.log("login")},loadData:function(t){var e;e="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token},console.log(t);var a=this;et()({method:"get",url:"http://localhost:8080/api/user/load/"+t,headers:e}).then((function(t){console.log(t.data.user.userNum),localStorage.userNum=t.data.user.userNum,console.log(t.data.user),localStorage.uid=t.data.user.id,a.loadUser(t.data.user),a.$router.push({name:"home"})})).catch((function(t){console.log(t),a.$router.push({name:"signin"})}))},loginPhone:function(){this.$router.push({name:"phone"})},requestEmail:function(){var t=this;et()({method:"get",url:"http://localhost:8080/api/entry/freelogin",headers:{Authorization:localStorage.token}}).then((function(e){t.loadData(e.headers.check),t.$router.push({name:"home"})}))}},Object(v["b"])(["changeBG","loadUser","getUserByNum"])),mounted:function(){null!=localStorage.token&&this.requestEmail(),null!=localStorage.oauthKey&&(this.getUserByNum(),this.$router.push({name:"home"}))}},Le=Re,Ke=(a("4911"),Object(l["a"])(Le,De,Fe,!1,null,null,null)),Je=Ke.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SignUpPage"},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{attrs:{"header-tag":"header"}},[a("template",{slot:"header"},[a("h2",{staticClass:"signupTitle"},[a("strong",[t._v("Sign Up")])])]),t.show?a("b-form",[a("b-form-group",{attrs:{id:"input-group-2",label:"Your Name:","label-text-align":"left",description:"Please enter your username above","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:"Enter name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("b-form-group",{staticClass:"description",attrs:{id:"input-group-1","label-for":"input-1",description:"Please enter your email address above"}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Enter email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2",description:"Please enter your password above"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:"Enter Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1):t._e(),a("b-button",{attrs:{href:"#",variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.registers()}}},[t._v("Sign Up")]),a("div",{staticClass:"third-party"},[a("i",{staticClass:"fab fa-weixin"}),a("i",{staticClass:"fab fa-github"}),a("i",{staticClass:"fab fa-google"})]),a("div",{staticClass:"fps-2"},[a("span",[t._v("already have an account")]),t._v(" "),a("span",[a("b-link",{attrs:{href:"#"},on:{click:function(e){return t.forwardSignIn()}}},[t._v("Sign In")])],1)])],2)],1)],1)},Ye=[],We={name:"signup",data:function(){return{show:!0,email:"",password:"",name:"",phone:"",verifyEmail:"",state:""}},methods:{forwardForget:function(){this.$router.push({name:"forget"})},forwardSignIn:function(){this.$router.push({name:"signin"})},registers:function(){var t={username:this.name,emailAddress:this.email,password:this.password};console.log(t);var e=this;et()({method:"post",url:"http://localhost:8080/api/entry/register",data:t}).then((function(t){e.state=t.data.state,e.verifyEmail=t.data.message,console.log(e.verifyEmail),"OK"===e.state&&e.$router.push({name:"verifycode",params:{test:e.verifyEmail}})})).catch((function(t){return console.log(t)})),e.name="",e.email="",e.password=""}}},He=We,Ge=(a("c27e"),Object(l["a"])(He,Ve,Ye,!1,null,null,null)),Qe=Ge.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"success"},[a("i",{staticClass:"fas fa-check-circle"}),a("h1",[t._v("Successfully")]),a("div",[a("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.login()}}},[t._v("Login Now")]),a("b-button",{attrs:{variant:"outline-success"},on:{click:function(e){return t.forwordSign()}}},[t._v("Login Page")])],1)])},Ze=[],ta={name:"success",data:function(){return{bodies:null}},methods:Object(g["a"])(Object(g["a"])({forwordSign:function(){localStorage.clear(),this.$router.push({path:"/main/signin"})}},Object(v["b"])(["loadUser"])),{},{loadData:function(t){var e=this;et()({method:"get",url:"http://localhost:8080/api/user/load/"+t,header:{Authorization:localStorage.token}}).then((function(t){200===t.status&&e.loadUser(t.data.user)}))},login:function(){console.log(localStorage.isPhone),"true"===localStorage.isPhone?(console.log(localStorage.isPhone),this.$store.dispatch("phoneUser"),this.$router.push({name:"home"})):(this.normal(),console.log("asd"))},normal:function(){this.bodies=this.$route.params.bodies;var t={email:this.bodies.emailAddress,password:this.bodies.password},e=this;et()({method:"post",url:"http://localhost:8080/api/entry/login",data:t}).then((function(t){200===t.status&&(localStorage.token=t.headers.authorization,e.loadData(e.bodies.emailAddress),e.$router.push({name:"home"}))})).catch((function(t){t.response.status&&e.$router.push({name:"signin"})}))}})},ea=ta,aa=(a("b9f4"),Object(l["a"])(ea,Xe,Ze,!1,null,null,null)),oa=aa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v(t._s(t.msg))]),a("div",{staticClass:"container"},[a("h2",{staticClass:"form-signin-heading"},[t._v("Login with OAuth 2.0")]),a("button",{on:{click:function(e){return t.test()}}},[t._v("Click here")])])])},sa=[],ra={name:"test",data:function(){return{msg:"cool",page:null}},methods:{getTodos:function(){var t=Math.floor(9e7*Math.random())+1e7;localStorage.oauthKey=t,et.a.get("http://localhost:8080/api/oauth2/info/"+t,{}).then((function(t){console.log(t)}))},test:function(){var t={email:"2691642766@qq.com",password:"qq123456"};et.a.post("http://localhost:8080/api/entry/login",t).then((function(t){console.log(t)}))}}},ia=ra,la=Object(l["a"])(ia,na,sa,!1,null,null,null),ca=la.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reset"},[a("div",{staticClass:"resetnav"}),a("div",[a("b-card",{attrs:{"header-tag":"header",footer:"Card Footer","footer-tag":"footer"}},[a("template",{slot:"header"},[a("div",[a("i",{staticClass:"fas fa-long-arrow-alt-left",on:{click:function(e){return t.backward()}}})]),a("div",[a("i",{staticClass:"far fa-question-circle"})])]),a("h4",{staticClass:"card-title"},[a("strong",[t._v("Enter Your Code")])]),a("b-card-text",[t._v("Enter your user account's verified code and we will verify it for you..")]),t.show?a("b-form",{staticClass:"form-email"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Security Code:","label-for":"input-1",description:"never share your code with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Security Code",required:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1)],1):t._e(),a("div",[a("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.sendCode()}}},[t._v("Next Step")])],1)],2)],1)])},da=[],fa={name:"verifycode",data:function(){return{show:!0,form:{code:""},counter:0,num:"",body:null}},methods:{backward:function(){this.$router.push({name:"signup"})},sendCode:function(){var t=this;this.num=this.$route.params.test;var e={code:this.form.code,key:this.num};console.log("http://localhost:8080/receiver");var a=this;et()({method:"post",url:"http://localhost:8080/api/entry/verify",data:e}).then((function(e){console.log(e.data),a.body=e.data.receiver,"OK"===e.data.state&&t.$router.push({name:"success",params:{bodies:a.body}})}))},testCode:function(){}}},ha=fa,pa=Object(l["a"])(ha,ua,da,!1,null,null,null),ma=pa.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reset"},[a("div",{staticClass:"resetnav"}),a("div",[a("b-card",{attrs:{"header-tag":"header",footer:"Card Footer","footer-tag":"footer"}},[a("template",{slot:"header"},[a("div",[a("i",{staticClass:"fas fa-long-arrow-alt-left",on:{click:function(e){return t.backward()}}})]),a("div",[a("i",{staticClass:"far fa-question-circle"})])]),a("h4",{staticClass:"card-title"},[a("strong",[t._v("Login with Your Number")])]),a("b-card-text",[t._v("Enter your phone number and we will send you a password verified code")]),t.show?a("b-form",{staticClass:"form-email"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Phone Number:","label-for":"input-1",description:"We'll never share your phone number with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"phone number",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1):t._e(),a("div",[a("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.sendCode()}}},[t._v("Next Step")])],1)],2)],1)])},va=[],ba={name:"phone",data:function(){return{show:!0,form:{phone:""},counter:0,verifyPhone:"",state:""}},methods:{backward:function(){this.$router.push({name:"signin"})},sendCode:function(){var t={phone:this.form.phone};console.log(t);var e=this;et()({method:"post",url:"http://localhost:8080/api/entry/phonelogin",data:t}).then((function(t){e.verifyPhone=t.data.message,console.log(t.data.message),"OK"===t.data.state&&(e.form.phone="",localStorage.isPhone=!0,e.$router.push({name:"verifydigit",params:{phone:e.verifyPhone}}))}))}}},Ca=ba,ya=Object(l["a"])(Ca,ga,va,!1,null,null,null),ka=ya.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reset"},[a("div",{staticClass:"resetnav"}),a("div",[a("b-card",{attrs:{"header-tag":"header",footer:"Card Footer","footer-tag":"footer"}},[a("template",{slot:"header"},[a("div",[a("i",{staticClass:"fas fa-long-arrow-alt-left",on:{click:function(e){return t.backward()}}})]),a("div",[a("i",{staticClass:"far fa-question-circle"})])]),a("h4",{staticClass:"card-title"},[a("strong",[t._v("Enter Your Code")])]),a("b-card-text",[t._v("Enter your user account's verified code and we will verify it for you..")]),t.show?a("b-form",{staticClass:"form-email"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Security Code:","label-for":"input-1",description:"never share your code with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Security Code",required:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1)],1):t._e(),a("div",[a("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.sendCode()}}},[t._v("Next Step")])],1)],2)],1)])},wa=[],xa={name:"verifydigit",data:function(){return{show:!0,form:{code:""},counter:0,num:""}},methods:{backward:function(){this.$router.push({name:"phone"})},sendCode:function(){var t=this;this.num=this.$route.params.phone,console.log(this.num);var e={code:this.form.code,key:this.num};et()({method:"post",url:"http://localhost:8080/api/entry/verifynum",data:e}).then((function(e){localStorage.phoneJwt=e.data.jwt,"OK"===e.data.state&&t.$router.push({path:"success"})}))}}},Sa=xa,$a=Object(l["a"])(Sa,_a,wa,!1,null,null,null),Oa=$a.exports,ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Redirecting..........")]),a("div",[t._v(t._s(t.getUserPayload.userNum))])])},Na=[],Ea={name:"redirect",data:function(){return{}},methods:Object(g["a"])({},Object(v["b"])(["loadOauth"])),computed:Object(g["a"])({},Object(v["c"])(["getUserPayload"])),beforeRouteEnter:function(t,e,a){a((function(t){t.loadOauth()}))},mounted:function(){var t=this;setTimeout((function(){t.$router.push({name:"home"})}),4e3)}},Pa=Ea,Ua=Object(l["a"])(Pa,ja,Na,!1,null,null,null),Ta=Ua.exports;o["default"].use(d["a"]);var Ia=[{path:"/main",name:"main",component:z,children:[{path:"savepage",name:"savepage",component:Nt},{path:"",name:"home",component:Yt},{path:"trend",name:"Trend",component:st},{path:"discuss",name:"discuss",component:H},{path:"new",name:"new",component:vt},{path:"paper/:aid/:uid",name:"paper",component:wt},{path:"edit",name:"edit",component:dt},{path:"chat/:roomNum",name:"chat",component:oe},{path:"profile",name:"profile",component:ce},{path:"mypaper/:aid",name:"mypaper",component:me},{path:"result/:item",name:"result",component:ke}]},{path:"/verification",name:"verification",component:L,children:[{path:"forget",name:"forget",component:Te},{path:"checkemail",name:"checkemail",component:Oe},{path:"password",name:"password",component:Be},{path:"success",name:"success",component:oa},{path:"",name:"signin",component:Je},{path:"signup",name:"signup",component:Qe},{path:"verifycode",name:"verifycode",component:ma},{path:"phone",name:"phone",component:ka},{path:"verifydigit",name:"verifydigit",component:Oa},{path:"redirect",name:"redirect",component:Ta}]},{path:"/test",name:"test",component:ca}],Aa=new d["a"]({mode:"history",base:"/",routes:Ia}),qa=Aa,za={tagName:"Home",status:!1,userId:"",user:[],index:0,trendindex:0,loginstatus:!1,articles:[{avatar:"",articleBgi:"",articleContent:"",articleDate:"",articleId:"",articleTitle:"",lookCount:"",room:null,tags:[],userNum:"",username:""}],marks:[],paper:[],search:[]},Ma=za,Ba=(a("4de4"),a("841c"),a("ac1f"),{changeTitle:function(t,e){t.tagName=e},show:function(t,e){t.status=e},userId:function(t,e){t.userId=e},loadUser:function(t,e){t.user=e},clear:function(t){t.user=null},syncIndex:function(t,e){t.index=e},loadArticles:function(t,e){t.articles=e},updateArticle:function(t,e){e.filter((function(e){t.articles.push(e)}))},updateTrendIndex:function(t,e){t.trendindex=e},loadMarks:function(t,e){t.marks=e},populate:function(t,e){t.search=e},loadOauth:function(t,e){t.user=e}}),Da={getTitle:function(t){return t.tagName},getStatus:function(t){return t.status},getUserId:function(t){return t.userId},getUserPayload:function(t){return console.log(t.user),t.user},getIndex:function(t){return console.log(t.index),t.index},getAllArts:function(t){return console.log(t.articles),t.articles},getTrendIndex:function(t){return console.log(t.trendindex),t.trendindex},getAllArt:function(t){return console.log(t.articles),t.articles},getMarks:function(t){return console.log(t.marks),t.marks},getSearch:function(t){return console.log(t.search),t.search}},Fa={changeTag:function(t,e){var a=t.commit;console.log(e),a("changeTitle",e)},syncIndex:function(t,e){var a=t.commit;console.log(e),a("syncIndex",e)},changeBG:function(t,e){var a=t.commit;console.log(e),a("show",e)},sendUserId:function(t,e){var a=t.commit;console.log(e),a("userId",e)},loadUser:function(t,e){var a=t.commit;console.log(e),a("loadUser",e)},getUsers:function(t){var e=t.commit;et.a.get("http://localhost:8080/api/entry/freelogin",{headers:{Authorization:localStorage.token}}).then((function(t){et.a.get("http://localhost:8080/api/user/load/"+t.headers.check,{headers:{Authorization:localStorage.token}}).then((function(t){console.log(t.data.user),localStorage.userNum=t.data.user.userNum,localStorage.uid=t.data.user.id,e("loadUser",t.data.user)}))})).catch((function(t){console.log(t)}))},phoneUser:function(t){var e=t.commit;et.a.get("http://localhost:8080/api/entry/freelogin",{headers:{Authorization:localStorage.phoneJwt}}).then((function(t){et.a.get("http://localhost:8080/api/user/load/"+t.headers.check,{headers:{Authorization:localStorage.phoneJwt}}).then((function(t){console.log(t.data.user),localStorage.userNum=t.data.user.userNum,localStorage.uid=t.data.user.id,e("loadUser",t.data.user)}))})).catch((function(t){console.log(t)}))},clear:function(t){var e=t.commit;e("clear")},getArticles:function(t,e){var a,o=t.commit;a="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token},et.a.get("http://localhost:8080/api/article/getArticles/"+e,{headers:a}).then((function(t){console.log(t.data),o("loadArticles",t.data)}))},updateArticle:function(t,e){var a=t.commit;console.log(e),a("updateArticle",e)},updateIndex:function(t,e){var a=t.commit;console.log(e),a("updateTrendIndex",e)},loadMarks:function(t,e){var a=t.commit;console.log(e),a("loadMarks",e)},search:function(t,e){var a,o=t.commit;a="2"===localStorage.userType?{Oauth2:"oauth2 "+localStorage.userNum,Authorization:"null"}:{Authorization:localStorage.token},et.a.get("http://localhost:8080/api/article/search/".concat(e),{headers:a}).then((function(t){console.log(t.data),o("populate",t.data)}))},loadOauth:function(t){var e=t.commit,a=localStorage.oauthKey;et.a.get("http://localhost:8080/api/oauth2/getInfo/".concat(a)).then((function(t){localStorage.oauthID=t.data.userNum,localStorage.userNum=t.data.userNum,localStorage.userType=t.data.userType,localStorage.uid=t.data.id,console.log(t.data),e("loadOauth",t.data)}))},getUserByNum:function(t){var e=t.commit,a=localStorage.oauthID,o="oauth2 "+a;console.log(o),et.a.get("http://localhost:8080/api/oauth2/getUser/".concat(a),{headers:{Oauth2:o,Authorization:"null"}}).then((function(t){console.log(t),e("loadUser",t.data)}))}};o["default"].use(v["a"]);var Ra=new v["a"].Store({state:Ma,mutations:Ba,actions:Fa,getters:Da}),La=a("5f5b"),Ka=a("b1e0");a("f9e3"),a("2dd8");o["default"].use(La["a"]),o["default"].use(Ka["a"]),o["default"].config.productionTip=!1,o["default"].config.productionTip=!1,new o["default"]({router:qa,store:Ra,render:function(t){return t(u)}}).$mount("#app")},6436:function(t,e,a){"use strict";a("9c86")},"6d21":function(t,e,a){"use strict";a("8d5d")},"6f5c":function(t,e,a){},"73b5":function(t,e,a){"use strict";a("17b9")},"748b":function(t,e,a){"use strict";a("50e7")},"82f3":function(t,e,a){},8319:function(t,e,a){},"85ec":function(t,e,a){},"8d5d":function(t,e,a){},"8e4f":function(t,e,a){"use strict";a("381b")},"99ef":function(t,e,a){"use strict";a("b938")},"9c86":function(t,e,a){},a4c4:function(t,e,a){"use strict";a("d61e")},b1e1:function(t,e,a){"use strict";a("06eb")},b938:function(t,e,a){},b947:function(t,e,a){"use strict";a("ddb9")},b9f4:function(t,e,a){"use strict";a("55d8")},c260:function(t,e,a){"use strict";a("6f5c")},c27e:function(t,e,a){"use strict";a("f6db")},c8c0:function(t,e,a){},d434:function(t,e,a){"use strict";a("82f3")},d45e:function(t,e,a){"use strict";a("2848")},d61e:function(t,e,a){},d7e4:function(t,e,a){"use strict";a("e20f")},ddb9:function(t,e,a){},e20f:function(t,e,a){},f6db:function(t,e,a){},fb7c:function(t,e,a){"use strict";a("4a72")}});
//# sourceMappingURL=app.b75557b4.js.map